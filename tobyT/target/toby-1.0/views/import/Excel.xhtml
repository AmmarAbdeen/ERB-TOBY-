<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="./../../template/newTemplate.xhtml"
                xmlns:p="http://primefaces.org/ui"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns="http://www.w3.org/1999/xhtml">
    <ui:define name="content">
        <h:form id="form" enctype="multipart/form-data" dir="#{userData.dir}" style="margin-right: 20px">

            <p:fieldset  legend="ادخال مراكز التكاليف" id="costcenter"  style="margin-bottom:20px">
                <div id="costcenterloader" class="form-group col-md-12">

                    <p:fileUpload value="#{importMB.costCenterFile}" mode="simple" onstart="disableChoosing()" 
                                  oncomplete="enableChoosing()" />
                </div>

                <div class="form-group col-md-12">
                    <p:commandButton id="btncostcenter"  actionListener="#{importMB.readCostCenter()}" ajax="false" value="تحميل">
                        <f:ajax execute="@all" render="@form"/>
                        <p:ajax/>
                    </p:commandButton> 
                </div>


            </p:fieldset>

            <p:fieldset  legend="ادخال الوحدات الادارية" id="adminunit"  style="margin-bottom:20px">
                <div id="adminunitloader" class="form-group col-md-12">

                    <p:fileUpload value="#{importMB.adminUnitFile}" mode="simple" onstart="disableChoosing()" 
                                  oncomplete="enableChoosing()" />
                </div>

                <div class="form-group col-md-12">
                    <p:commandButton id="btnadminunit"  actionListener="#{importMB.readAdminUnit()}" ajax="false" value="تحميل">
                        <f:ajax execute="@all" render="@form"/>
                        <p:ajax/>
                    </p:commandButton>
                </div>


            </p:fieldset>

            <p:fieldset  legend="ادخال السنين المالية" id="year"  style="margin-bottom:20px">
                <div id="yearloader" class="form-group col-md-12">

                    <p:fileUpload value="#{importMB.yearFile}" mode="simple" onstart="disableChoosing()" 
                                  oncomplete="enableChoosing()" />
                </div>

                <div class="form-group col-md-12">
                    <p:commandButton id="btnyear"  actionListener="#{importMB.readYear()}" ajax="false" value="تحميل">
                        <f:ajax execute="@all" render="@form"/>
                        <p:ajax/>
                    </p:commandButton>
                </div>


            </p:fieldset>

            <p:fieldset  legend="ادخال العملات" id="currency"  style="margin-bottom:20px">
                <div id="currencyloader" class="form-group col-md-12">

                    <p:fileUpload value="#{importMB.currencyFile}" mode="simple" onstart="disableChoosing()" 
                                  oncomplete="enableChoosing()" />
                </div>

                <div class="form-group col-md-12">
                    <p:commandButton id="btnglcurrency"  actionListener="#{importMB.readCurrency()}" ajax="false" value="تحميل">
                        <f:ajax execute="@all" render="@form"/>
                        <p:ajax/>
                    </p:commandButton>
                </div>


            </p:fieldset>

            <p:fieldset  legend="ادخال دليل الحسابات" id="glaccount"  style="margin-bottom:20px">
                <div id="glaccountloader" class="form-group col-md-12">

                    <p:fileUpload value="#{importMB.glAccountFile}" mode="simple" onstart="disableChoosing()" 
                                  oncomplete="enableChoosing()" />
                </div>

                <div class="form-group col-md-12">
                    <p:commandButton id="btnglaccount"  actionListener="#{importMB.readGlAccount()}" ajax="false" value="تحميل">
                        <f:ajax execute="@all" render="@form"/>
                        <p:ajax/>
                    </p:commandButton>
                </div>


            </p:fieldset>

            <p:fieldset  legend="ادخال  قيود اليومية" id="generalJournalID"  style="margin-bottom:20px">
                <div id="generalJournalloader" class="form-group col-md-12">

                    <p:fileUpload value="#{importMB.generalJournalHeadFile}" mode="simple" onstart="disableChoosing()" 
                                  oncomplete="enableChoosing()" />
                </div>

                <div class="form-group col-md-12">
                    <p:commandButton id="generalJournalBTN"  actionListener="#{importMB.readGeneralJournalHead()}" ajax="false" value="تحميل">
                        <f:ajax execute="@all" render="@form"/>
                        <p:ajax/>
                    </p:commandButton>
                </div>



            </p:fieldset>

            <p:fieldset  legend="ادخال دليل الاصناف" id="invitem"  style="margin-bottom:20px">
                <div id="invitemloader" class="form-group col-md-12">

                    <p:fileUpload value="#{importMB.invItemFile}" mode="simple" onstart="disableChoosing()" 
                                  oncomplete="enableChoosing()" />
                </div>

                <div class="form-group col-md-12">
                    <p:commandButton id="btninvitem"  actionListener="#{importMB.readInvItem()}" ajax="false" value="تحميل">
                        <f:ajax execute="@all" render="@form"/>
                        <p:ajax/>
                    </p:commandButton>
                </div>


            </p:fieldset>

            <p:fieldset  legend="ادخال الرصيد الافتتاحي للمخازن" id="invOpeiningBalance"  style="margin-bottom:20px">
                <div id="invOpeiningBalanceloader" class="form-group col-md-12">

                    <p:fileUpload value="#{importMB.invOpeningBalanceFile}" mode="simple" onstart="disableChoosing()" 
                                  oncomplete="enableChoosing()" />
                </div>

                <div class="form-group col-md-12">
                    <p:commandButton id="btninvOpeiningBalance"  actionListener="#{importMB.readInvOpeiningBalance()}" ajax="false" value="تحميل">
                        <f:ajax execute="@all" render="@form"/>
                        <p:ajax/>
                    </p:commandButton>
                </div>


            </p:fieldset>

            <p:fieldset  legend="ادخال العملاء" id="customer"  style="margin-bottom:20px">
                <div id="customerloader" class="form-group col-md-12">

                    <p:fileUpload value="#{importMB.customerFile}" mode="simple" onstart="disableChoosing()" 
                                  oncomplete="enableChoosing()" />
                </div>

                <div class="form-group col-md-12">
                    <p:commandButton id="btncustomer"  actionListener="#{importMB.readCustomer()}" ajax="false" value="تحميل">
                        <f:ajax execute="@all" render="@form"/>
                        <p:ajax/>
                    </p:commandButton>
                </div>


            </p:fieldset>


            <div class="form-group col-md-12">
                <p:commandButton id="btntransfer"  actionListener="#{importMB.transfer()}" ajax="false" value="Mofakroun">
                    <f:ajax execute="@all" render="@form"/>
                    <p:ajax/>
                </p:commandButton>
            </div>
            
            
            <div class="form-group col-md-12">
                <p:commandButton id="btncostavarage"  actionListener="#{importMB.updateCostAvarage()}" ajax="false" value="Mofakroun">
                    <f:ajax execute="@all" render="@form"/>
                    <p:ajax/>
                </p:commandButton>
            </div>


            <p:blockUI block="form" trigger="generalJournalBTN btntransfer btncustomer btninvOpeiningBalance btninvitem btnglaccount btnglcurrency btnyear btnadminunit btncostcenter" animate="true" >

                <p:graphicImage library="img" name="9wcA.gif" ></p:graphicImage>
            </p:blockUI>

            <p:dialog header="رسالة" widgetVar="sucesses" minHeight="40">
                <h:outputText value="تم الحفظ بنجاح" />
            </p:dialog>
        </h:form>
    </ui:define>
</ui:composition>
